/* file version: 1539830065_46b93c44a0b0b7ba987aeee82aa5eeb0 */
window.BaseJS={classes:{},_zindexSeed:100,_idSeed:0,getNewZindex:function(){return this._zindexSeed++;},getZindexSeed:function(){return this._zindexSeed;},setZindexSeed:function(z){return this._zindexSeed=z;},init:function(){this.checkBrowser();},checkBrowser:function(){var ua=navigator.userAgent.toLowerCase();var check=function(r){return r.test(ua);};var DOC=document;this.isStrict=DOC.compatMode=="CSS1Compat";this.isOpera=check(/opera/);this.isOperaMobile=this.isOpera&&(check(/mobi/)||check(/adr-/));this.isChrome=check(/chrome/);this.isWebKit=check(/webkit/);this.isSafari=!this.isChrome&&check(/safari/);this.isIE=!this.isOpera&&(check(/msie/)||check(/trident/));this.isIE7=this.isIE&&check(/msie 7/);this.isIE8=this.isIE&&check(/msie 8/);this.isIE9=this.isIE&&check(/msie 9/);this.isIE6=this.isIE&&!this.isIE7&&!this.isIE8&&!this.isIE9&&check(/msie 6/);this.isGecko=!this.isWebKit&&check(/gecko/);this.isGecko2=this.isGecko&&check(/rv:1\.8/);this.isGecko3=this.isGecko&&check(/rv:1\.9/);this.isBorderBox=this.isIE&&!this.isStrict;this.isWinPhone=check(/windows phone/)||check(/zunewp7/);this.isWindows=check(/windows|win32/);this.isAndroid=check(/android/);this.isMac=check(/macintosh|mac os x/);this.isIphone=check(/iphone/);this.isIphoneChrome=this.isIphone&&check(/crios/);this.isAir=check(/adobeair/);this.isLinux=check(/linux/);this.isIpad=check(/ipad/);this.isTouchDevice=('ontouchstart'in window);this.isWebKitTouchDevice=this.isWebKit&&this.isTouchDevice;this.isPadDevice=this.isIpad;this.isUC=check(/ucweb/)||check(/ucbrowser/);this.isSecure=/^https/i.test(window.location.protocol);},getNewId:function(prefix){var pre=prefix||"new-id-";return pre+(this._idSeed++);},encodeHTML:function(text){if(!text&&text!==0){return"";}
text=String(text);if(!this._encodeHtmlTestDiv){this._encodeHtmlTestDiv=$("<div/>");}
var out=this._encodeHtmlTestDiv.text(text).html();return out.replace(/'/g,"&#39;").replace(/"/g,"&quot;");},decodeHTML:function(str){if(!str&&str!==0){return"";}
if(!this._decodeHtmlTestDiv){this._decodeHtmlTestDiv=$("<div/>");}
return this._decodeHtmlTestDiv.html(str).text();},classExtend:function(subClass,superClass,extendFun){var F=function(){};F.prototype=superClass.prototype;var nF=new F();$.extend(nF,extendFun);subClass.prototype=nF;subClass.prototype.constructor=subClass;subClass.superClass=superClass.prototype;if(superClass.prototype.constructor==Object.prototype.constructor){superClass.prototype.constructor=superClass;}},formatDate:function(date,format){if(!date){return;}
if(!format){format="yyyy-MM-dd";}
switch(typeof date){case"string":var da=date.replace("年","-").replace("月","-").replace("日","").replace(/-/g,"/").split(/\/|\:|\ /);date=new Date(da[0],da[1]-1,da[2],da[3],da[4],da[5]);break;case"number":date=new Date(date);break;}
if(!date instanceof Date){return;}
var dict={"yyyy":date.getFullYear(),"M":date.getMonth()+1,"d":date.getDate(),"H":date.getHours(),"m":date.getMinutes(),"s":date.getSeconds(),"MM":(""+(date.getMonth()+101)).substr(1),"dd":(""+(date.getDate()+100)).substr(1),"HH":(""+(date.getHours()+100)).substr(1),"mm":(""+(date.getMinutes()+100)).substr(1),"ss":(""+(date.getSeconds()+100)).substr(1)};return format.replace(/(yyyy|MM?|dd?|HH?|ss?|mm?)/g,function(){return dict[arguments[0]];});},addClass:function(className,baseClassName,cfg,extendMethods){if(!this.classes[cfg.nameSpace]){this.classes[cfg.nameSpace]={};}
var classes=this.classes[cfg.nameSpace];var classType=cfg.classType;if(classes[className]){throw classType+" "+className+" is existed";}
var newClass=function(){newClass.superClass.constructor.apply(this,arguments);};var baseClass=baseClassName?classes[baseClassName]:cfg.defaultBaseClass;if(!baseClass){throw classType+" "+(baseClassName?baseClassName:"base class")+" is not existed";}
this.classExtend(newClass,baseClass,extendMethods);newClass.prototype.classType=classType;newClass.prototype.className=className;classes[className]=newClass;},addModuleExtendClass:function(moduleClassName,baseModuleClassName,extendMethods){this.addClass(moduleClassName,baseModuleClassName,{classType:"module",nameSpace:"modules",defaultBaseClass:this.classes.Module},extendMethods);},addModuleClass:function(moduleClassName,extendMethods){this.addModuleExtendClass(moduleClassName,"",extendMethods);},addComponentExtendClass:function(componentClassName,baseComponentClassName,extendMethods){this.addClass(componentClassName,baseComponentClassName,{classType:"component",nameSpace:"components",defaultBaseClass:this.classes.Component},extendMethods);},addComponentClass:function(componentClassName,extendMethods){this.addComponentExtendClass(componentClassName,"",extendMethods);},setScrollbarCfg:function(cfg){this.isNormalScrollbar=cfg.isNormalScrollbar;this.isDiyPanelMenuScrollbar=cfg.isDiyPanelMenuScrollbar;},createScrollbar:function(cfg,scrollExtCfg){var pullDownElement=null;var pullUpElement=null;var wrapper=cfg.target.find(">*:first");if(wrapper.length===0){return;}
var contentContainer=wrapper.find(">*:first");if(this.isNormalScrollbar){cfg.target.css("overflow","auto");if(cfg.pullUpHandler){pullUpElement=$('<div class="pull-up">'+' <span class="pull-up-label btn btn-default">加载更多</span>'+'</div>');pullUpElement.click(function(){cfg.pullUpHandler();});cfg.target.append(pullUpElement);}
var resizeHandler=function(){if(!cfg.isAutoHeight){contentContainer.css("min-height",(cfg.target.height()-(pullUpElement?pullUpElement.height():0))+"px");}};var scrollbar={destroy:function(){$(window).off("resize",resizeHandler);},bindAction:function(){$(window).on("resize",resizeHandler);},refresh:function(){resizeHandler();},init:function(){resizeHandler();this.bindAction();}};scrollbar.init();return scrollbar;}
var pullOffset=this.isAndroid&&this.isWebKit?42:38;if(cfg.pullDownHandler){pullDownElement=$('<div class="pull-down">'+'<span class="glyphicon glyphicon-arrow-down pull-icon" aria-hidden="true"></span> <span class="pull-down-label">下拉可刷新</span>'+'</div>');wrapper.prepend(pullDownElement);}
if(cfg.pullUpHandler){pullUpElement=$('<div class="pull-up">'+'<span class="glyphicon glyphicon-arrow-up pull-icon" aria-hidden="true"></span> <span class="pull-up-label">上拉可加载更多</span>'+'</div>');wrapper.append(pullUpElement);}
var isMove=false;var oldScrollY=0;var scrollCfg={checkDOMChanges:true,hideScrollbar:false,fadeScrollbar:false,handleClick:false,onBeforeScrollStart:null,onScrollStart:function(){isMove=true;oldScrollY=this.y;},onRefresh:function(){if(!cfg.isAutoHeight){contentContainer.css("min-height",(cfg.target.height()-(pullUpElement?pullUpElement.height():0))+"px");}},onScrollMove:function(e){if(Math.abs(this.y-oldScrollY)>3){e.preventDefault();}
if(pullDownElement){this.options.topOffset=0;if(!('ontouchstart'in window)){$(e.target).css("pointer-events","none");setTimeout(function(){$(e.target).css("pointer-events","");},700);}
if(this.y>-1*pullOffset){this.stop();if(this.y<0){this.moved=true;}
if(this.y>10){pullDownElement.find(".pull-icon").addClass("pulling");pullDownElement.find(".pull-down-label").text("松开可刷新");}
return;}}
if(this.y<this.maxScrollY&&pullUpElement&&pullUpElement.is(":visible")){pullUpElement.find(".pull-icon").addClass("pulling");pullUpElement.find(".pull-up-label").text("松开可加载更多");}},onScrollEnd:function(){if(pullDownElement){pullDownElement.find(".pull-icon").removeClass("pulling");pullDownElement.find(".pull-down-label").text("下拉可刷新");this.options.topOffset=pullOffset;if(this.y>-1*pullOffset&&isMove){var _this=this;setTimeout(function(){_this.stop();_this.scrollTo(0,-1*pullOffset,1000);_this.refresh();cfg.pullDownHandler();},10);isMove=false;return;}
if(this.y>-1*pullOffset){this.stop();this.scrollTo(0,-1*pullOffset,1000);this.refresh();}}
if(isMove&&pullUpElement&&pullUpElement.is(":visible")){if(this.y<this.maxScrollY+pullOffset){if(cfg.pullUpHandler){cfg.pullUpHandler();}
if(this.vScrollbar){this.scrollTo(0,this.maxScrollY+pullOffset,500);}}
pullUpElement.find(".pull-icon").removeClass("pulling");pullUpElement.find(".pull-up-label").text("上拉可加载更多");}
isMove=false;}};if(pullDownElement){scrollCfg.topOffset=pullOffset;}
var scroller=new iScroll(cfg.target[0],scrollExtCfg===null?{checkDOMChanges:true,hideScrollbar:false,fadeScrollbar:false}:$.extend(scrollCfg,scrollExtCfg));if(pullDownElement&&pullOffset){scroller.scrollTo(0,-1*pullOffset,800);}
wrapper.parent().addClass("diy-scrollbar");var isStartClick=false;wrapper.on("mousedown touchstart","*",function(){if(this.name||$(this).hasClass("auto-scroll-to")){isStartClick=true;setTimeout(function(){isStartClick=false;},200);}});wrapper.on("focus","*",function(){if(!isStartClick&&(this.name||$(this).hasClass("auto-scroll-to"))){if(scroller.vScrollbar||scroller.hScrollbar){scroller.scrollToElement(this);}}});return scroller;},textAreaAutoHeight:function(textarea){textarea.on("keyup change input paste",function(e){var element=$(this);element.css({"height":0,"min-height":0,"max-height":0});var borderTop=parseFloat(element.css("border-top-width"));var borderBottom=parseFloat(element.css("border-bottom-width"));var borderHeight=borderTop+borderBottom;var height=this.scrollHeight+borderHeight;element.css({"height":height+"px","min-height":"","max-height":""});});},formatMoney:function(number,places,symbol,thousand,decimal){number=number||0;places=!isNaN(places=Math.abs(places))?places:2;symbol=symbol||"";thousand=thousand||"";decimal=decimal!==undefined?decimal:".";var negative=number<0?"-":"",i=parseInt(number=Math.abs(+number||0).toFixed(places),10)+"",j=(j=i.length)>3?j%3:0;return symbol+negative+(j?i.substr(0,j)+thousand:"")+i.substr(j).replace(/(\d{3})(?=\d)/g,"$1"+thousand)+(places?decimal+Math.abs(number-i).toFixed(places).slice(2):"");},renderForm:function(form){var encode=this.encodeHTML;var getAttributesStr=function(attributes){var attrArray=[];$.each(attributes,function(k,v){if(typeof v==="string"){attrArray.push(encode(k)+'="'+encode(v)+'"');}});return attrArray.join(" ");};var getOptionsStr=function(options){var optionArray=[];$.each(options||[],function(k,v){optionArray.push('<option value="'+encode(v.value)+'"'+(v.selected?' selected="selected"':'')+'>'+encode(v.text)+'</option>');});return optionArray.join(" ");};var isInline=form.isInline;form=$.extend({"class":"common-form "+(isInline?"form-inline":"form-horizontal")},form);var items=form.items||[];if(items.length===0&&!form.style){form.style="display:none;";}
delete form.displayMode;delete form.items;var html='<form '+getAttributesStr(form)+' onsubmit="return false;">';var id=this.getNewId();$.each(items,function(k,v){var tag=v.tag;var name=v.name||"";var text=v.text||"";var baseAttr={id:id+"-item-"+k};if(v.type){baseAttr.type=v.type;}
if(v.name){baseAttr.name=name;}
if(v.placeholder){baseAttr.placeholder=v.placeholder;}
if(v.value!==undefined){baseAttr.value=v.value;}
var extAttr=v.attributes||{};var attr=$.extend(baseAttr,extAttr);html+='<div class="form-group">';var label='';if(isInline){label=(text&&tag!=="button")?('<label for="'+attr.id+'">'+encode(text)+'：</label>'):'';}else{label='<label for="'+attr.id+'" class="col-xs-2 control-label">'+encode(text&&tag!=="button"?(text+'：'):'')+'</label><div class="col-xs-10">';}
if(tag==="input"){attr.type=attr.type||"text";var isTextShowNext=(attr.type==="checkbox"||attr.type==="radio")?true:false;if(!isTextShowNext){html+=label;}
html+='<input class="form-control'+(v.extCls?(" "+v.extCls):"")+'" '+getAttributesStr(attr)+' />';if(isTextShowNext){html+=label;}}else if(tag==="select"){html+=label;html+='<select class="form-control'+(v.extCls?(" "+v.extCls):"")+'" '+getAttributesStr(attr)+'>'+getOptionsStr(v.options)+'</select>';}else if(tag==="button"){html+=label;attr.type=attr.type||"button";html+='<button class="form-control btn '+(v.extCls||" btn-primary")+'" '+getAttributesStr(attr)+'>'+encode(text)+'</button>';}else if(tag==="textarea"){html+=label;var value=attr.value;delete attr.value;html+='<textarea class="form-control'+(v.extCls?(" "+v.extCls):"")+'" '+getAttributesStr(attr)+'>'+encode(value)+'</button>';}else{html+='<'+tag+' '+getAttributesStr(attr)+'>'+encode(text)+'</'+tag+'>';}
if(!isInline){html+='</div>';}
html+='</div>';});return html+'</form>';}};BaseJS.init();;BaseJS.classes.Base=function(){this._eventManager=$(this);};BaseJS.classes.Base.prototype={on:function(){this._eventManager.on.apply(this._eventManager,arguments);},off:function(){this._eventManager.off.apply(this._eventManager,arguments);},trigger:function(){this._eventManager.trigger.apply(this._eventManager,arguments);},triggerHandler:function(){this._eventManager.triggerHandler.apply(this._eventManager,arguments);},requestGet:function(url,data,callback,settings){settings=settings||{};if(settings.type||settings.method){throw"The request HTTP method can not to be set";}
settings.type="GET";return this._request(url,data,callback,settings);},requestPost:function(url,data,callback,settings){settings=settings||{};if(settings.type||settings.method){throw"The request HTTP method can not to be set";}
settings.type="POST";return this._request(url,data,callback,settings);},requestPatch:function(url,data,callback,settings){settings=settings||{};if(settings.type||settings.method){throw"The request HTTP method can not to be set";}
settings.type="PATCH";return this._request(url,data,callback,settings);},requestDelete:function(url,data,callback,settings){settings=settings||{};if(settings.type||settings.method){throw"The request HTTP method can not to be set";}
settings.type="DELETE";return this._request(url,data,callback,settings);},request:function(url,data,callback,settings){return this.requestPost(url,data,callback,settings);},_doFormError:function(errorData){var _this=this;var commonErrors=[];var firstTarget=null;var formError=this.find?this.find(".form-error"):$(".form-error");formError.empty();$.each(errorData,function(k,v){var selector="[name='"+k+"']:visible";var target=_this.find?_this.find(selector):$(selector);var errorMessage="";$.each(v,function(type,message){if(target.length===0){commonErrors.push(message);}else{errorMessage+='<span>'+BaseJS.encodeHTML(message)+'</span>';}});if(target.length>0){var errorContainer=target.data("errorContainer");if(!errorContainer){errorContainer=$('<div class="form-error"></div>');target.after(errorContainer);target.data("errorContainer",errorContainer);}
errorContainer.html(errorMessage);if(!firstTarget){firstTarget=target;}}});if(firstTarget){firstTarget.focus();}
if(commonErrors.length>0){showAlert(commonErrors.join("\n"));}},disable:function(){this.isDisabled=true;if(!this._disableMask){this._disableMask=$('<div class="mask" onclick="this.focus();" style="background-color:#000;opacity:0.3;z-index:9999;"></div>');this._disableMask.appendTo(this._body||document.body);}
this._disableMask.show();},enable:function(){this.isDisabled=false;if(this._disableMask){this._disableMask.hide();}},showMask:function(){if(!this._mainMask){this._mainMask=$('<div class="mask"><div><div class="loader"></div></div></div>');this._mainMask.appendTo(this._body||document.body);}
this._mainMask.show();},hideMask:function(){if(this._mainMask){this._mainMask.hide();}},_request:function(url,data,callback,settings){if(MainJS.checkRequest&&!MainJS.checkRequest()){return;}
if(!this._ajaxList){this._ajaxList=[];}
var _this=this;var defaultSettings={url:url,type:"POST",dataType:"json",async:true,data:data,success:function(result){if(typeof result==="string"){if(callback){callback(result);}
return;}
if(result.returnCode=="-200"){var returnData=result.returnData||((typeof result.returnMessage==="string")?result.returnMessage:"");if(settings.logoutHandler){settings.logoutHandler(returnData);return;}
MainJS.showLogout(returnData);return;}else if(result.returnCode=="-102"){_this._doFormError(result.returnData);}else if(result.returnCode=="0"){if(callback){callback(result.returnData);}}
if(result.returnCode<0){if(settings.errorHandler){settings.errorHandler(result);}}
if(result.returnMessage){var doLocation=function(){if(!result.returnMessage.location){return;}
var locationInfo=result.returnMessage.location.split("/");var moduleName=locationInfo[0];var locationData=$.extend(locationInfo[1]?{action:locationInfo[1]}:{},result.returnMessage.locationData);MainJS.openModule(moduleName,locationData);};var notices=result.returnMessage.notices||((result.returnCode!="0"&&typeof result.returnMessage==="string")?[result.returnMessage]:null);if(notices&&notices.length>0){var showMessage=result.returnCode=="0"?showSuccess:showAlert;showMessage(notices.join("\n"),function(){if(result.returnCode<0){if(settings.errorDialogHandler){settings.errorDialogHandler(result);}}else{if(settings.successDialogHandler){settings.successDialogHandler(result);}}
doLocation();});}else{doLocation();}}},error:function(data,textStatus,errorThrown){if(errorThrown==="abort"){return;}
if(data.status==404){showAlert("请求地址不存在");}else if(data.status>0){if(textStatus==="parsererror"&&data.status==200){if(data.responseText&&(/location\s*\=/i.test(data.responseText)||/location\.href\s*\=/i.test(data.responseText))){showAlert("网络出现故障，请联系客服。");}else{showAlert("网络不稳定或服务器忙，请稍后再试。");}}else{showAlert("网络不稳定或服务器忙，请稍后再试。");}}else{showAlert("网络不稳定，请稍后再试。");}
if(window.console&&console.error){console.error("Error\n url: "+url+"\n textStatus: "+textStatus+"\n errorThrown： "+errorThrown+"\n status: "+data.status);}
if(MainJS&&MainJS.cfg.data.config.debug==1){_this.requestPost("/index/debug",{url:url,content:"Error\n textStatus: "+textStatus+"\n errorThrown： "+errorThrown+"\n status: "+data.status+"\n responseText: "+data.responseText},function(result){MainJS.cfg.data.config.debug=result.debug;},{error:null,noMask:true});}}};if(defaultSettings.dataType==="json"){this.hasJsonTypeRequest=true;}
settings=settings||{};var completeFun=settings.complete;var request=null;var _this=this;if(!this._ajaxMask&&!settings.noMask){this._ajaxMask=$('<div class="mask"><div><div class="loader"></div></div></div>');this._ajaxMask.appendTo(this._body||document.body);}
if(!settings.noMask&&(!this._appendTo||(!this.isHide&&!this._appendTo.is(":hidden")))){this._ajaxMask.show();}
settings=$.extend(defaultSettings,settings);this.ajaxFirstRequest=false;settings.complete=function(){if(!_this.ajaxFirstRequest){_this.triggerHandler("firstRequestComplete");_this.ajaxFirstRequest=true;}
if($.isFunction(completeFun)){completeFun();}
if(settings.async!==false){var findIndex=$.inArray(request,_this._ajaxList);if(findIndex>=0){_this._ajaxList.splice(findIndex,1);}}
if(_this._ajaxMask&&_this._ajaxList&&_this._ajaxList.length===0){_this._ajaxMask.hide();}};request=$.ajax(settings);if(settings.async!==false&&!settings.noMask){this._ajaxList.push(request);}
return request;},_abortRequest:function(){if(this._ajaxList){$.each(this._ajaxList,function(){if(this.readyState<4){this.abort();}});}
this._ajaxList=null;},_getResizeHandler:function(){if(!this._resizeHandler){var _this=this;this._resizeHandler=function(){_this.syncSize();setTimeout(function(){_this.syncSize();},400);setTimeout(function(){_this.syncSize();},1000);};}
return this._resizeHandler;},_bindResize:function(){if(BaseJS.isIphone&&BaseJS.isUC){$(window).on("orientationchange",this._getResizeHandler());}else{$(window).on("resize",this._getResizeHandler());}},_unbindResize:function(){if(BaseJS.isIphone&&BaseJS.isUC){$(window).off("orientationchange",this._getResizeHandler());}else{$(window).off("resize",this._getResizeHandler());}},renderTpl:function(tpl,data){data=$.extend({},data,{_window:window,_this:this,MainJS:MainJS,BaseJS:BaseJS,$:$});var render=template.compile(tpl);var renderTxt=render(data);if(MainJS.parseTplHook){renderTxt=MainJS.parseTplHook(renderTxt);}
return renderTxt;},getTpl:function(tplId,tplName){var tplData=MainJS.getTplData(tplId);return tplData[tplName];}};;BaseJS.classes.Panel=function(initData,openCfg){BaseJS.classes.Panel.superClass.constructor.apply(this,arguments);this.initData=initData||{};this._openCfg=openCfg||{};this.sysCfg=this.getSysCfg();this._container=this._openCfg.container||$(document.body);this._parentObject=this._openCfg.parentObject||null;if(this.beforeInit){this.beforeInit();}
if(this.init){this.init();}
if(this.afterInit){this.afterInit();}
this._bindResize();};BaseJS.classExtend(BaseJS.classes.Panel,BaseJS.classes.Base,{renderBody:function(tplId,data){data=data||{};if(data.pageTitle){document.title=data.pageTitle;}
if(this.className){var className=this.className.replace(/([A-Z])/g,function(result){return"-"+result.toLowerCase();});className=className.replace(/^\-/,"");var classNameCls=className+"-"+this.classType;var classNameActionCls=classNameCls+"-"+(this.initData.action||"index");this._body=$('<div class="'+classNameCls+' '+classNameActionCls+'"></div>');}else{this._body=$('<div></div>');}
if(this._openCfg.isHide){this.hide();}
this._bodyTop=$('<div class="'+this.classType+'-top"></div>');this._body.append(this._bodyTop);this._bodyMain=$('<div class="'+this.classType+'-main"></div>').appendTo(this._body);this._bodyBottom=$('<div class="'+this.classType+'-bottom"></div>').appendTo(this._body);var tpl=this.getTplData?this.getTplData():MainJS.getTplData(tplId);if(tpl.bodyTop){this._bodyTop.append(this.renderTpl(tpl.bodyTop,data));}
this._scrollWrapper=$('<div></div>');this._bodyMainContent=$('<div></div>');if(tpl.bodyMain){this._bodyMainContent.append(this.renderTpl(tpl.bodyMain,data));}
this._scrollWrapper.append(this._bodyMainContent);this._bodyMain.append(this._scrollWrapper);if(tpl.bodyBottom){this._bodyBottom.append(this.renderTpl(tpl.bodyBottom,data));}
if(this._openCfg.isPrependTo){this._body.prependTo(this.getContainer());}else{this._body.appendTo(this.getContainer());}
var _this=this;_this.syncSize();setTimeout(function(){_this.syncSize();},500);if(BaseJS.isDiyPanelMenuScrollbar){this.find(".dropdown-menu .menu-body").each(function(k,v){var container=$(v);var content=container.find(">*");content.remove();container.append('<li><ul style="list-style:none;padding:0;margin:0;"></ul></li>');container.find("ul").append(content);BaseJS.createScrollbar({target:container});});this.find(".dropdown-menu").on("click",".menu-head,.menu-body",function(e){if(!e.target||!e.target.href){return false;}});}},syncSize:function(){if(this.isRemoved){return;}
this._bodyMain.height(this.getContainer().outerHeight()-this._bodyTop.outerHeight()-this._bodyBottom.outerHeight());this.fixDateInputWidth();var _this=this;if(this._bodyMainScrollbar){this._bodyMainScrollbar.refresh();var wrapper=$(this._bodyMainScrollbar.wrapper);wrapper.find(".auto-scroll-to,[name]").each(function(){if(this===document.activeElement&&(_this._bodyMainScrollbar.vScrollbar||_this._bodyMainScrollbar.hScrollbar)){_this._bodyMainScrollbar.scrollToElement(this);return false;}});}
this.triggerHandler("syncSize");},fixDateInputWidth:function(){if(BaseJS.isMac){var form=this.find("form");if(form.length>0){form.each(function(){var oneForm=$(this);var formWidth=oneForm.width();oneForm.find("input[type='date'].form-control,input[type='time'].form-control,input[type='month'].form-control,input[type='week'].form-control,input[type='datetime'].form-control,input[type='datetime-local'].form-control").css("width",formWidth+"px");});}}},show:function(){this._body.show();this._body.css("visibility","");this.isHide=false;this.syncSize();},hide:function(isSetVisibility){if(!isSetVisibility){this._body.hide();}else{this._body.css("visibility","hidden");}
this.isHide=true;},setBodyMainScrollbarInitCfg:function(cfg){this._bodyMainScrollbarInitCfg=cfg;},createBodyMainScrollbar:function(){var _this=this;setTimeout(function(){if(!_this.isRemoved){_this._doCreateBodyMainScrollbar();}},10);},_doCreateBodyMainScrollbar:function(){if(!this._bodyMainScrollbar){var _this=this;this._bodyMainScrollbar=BaseJS.createScrollbar({target:this._bodyMain,pullDownHandler:this.getPullDownHandler?function()
{if(!_this._ajaxList||_this._ajaxList.length===0){var pullDownHandler=_this.getPullDownHandler();pullDownHandler();}}:null,pullUpHandler:this.getPullUpHandler?function(){if(!_this._ajaxList||_this._ajaxList.length===0){var pullUpHandler=_this.getPullUpHandler();pullUpHandler();}}:null},this._bodyMainScrollbarInitCfg);}},getBodyMainScrollbar:function(){return this._bodyMainScrollbar;},remove:function(){this.triggerHandler("remove");this._abortRequest();this._unbindResize();if(this._ajaxMask){this._ajaxMask.remove();this._ajaxMask=null;}
if(this._mainMask){this._mainMask.remove();this._mainMask=null;}
if(this._disableMask){this._disableMask.remove();this._disableMask=null;}
if(this._bodyMainScrollbar){this._bodyMainScrollbar.destroy();this._bodyMainScrollbar=null;}
this._body.remove();this.isRemoved=true;this.triggerHandler("afterRemove");},find:function(selector){return this._body.find(selector);},getBody:function(){return this._body;},getBodyTop:function(){return this._bodyTop;},getBodyMain:function(){return this._bodyMain;},getBodyMainContent:function(){return this._bodyMainContent;},appendMainContent:function(html){this.getBodyMainContent().append(html);},fillMainContent:function(html){this.getBodyMainContent().html(html);this.syncSize();},getBodyBottom:function(){return this._bodyBottom;},getScrollWrapper:function(){return this._scrollWrapper;},getOpenCfg:function(){return this._openCfg;},getContainer:function(){return this._container;},getParentObject:function(){return this._parentObject;},setPageTitle:function(title){document.title=title;this.find(".page-title:first").text(title);this.syncSize();},getSysCfg:function(){var name=this.className.replace(/^(\w)/,function(v){return v.toLowerCase();});return MainJS.sysSetting&&MainJS.sysSetting[this.classType+"s"]?(MainJS.sysSetting[this.classType+"s"][name]||{}):{};},createDataList:function(cfg,container){var dataList=new BaseJS.classes.components.DataList(cfg,{container:container||this.getBodyMain(),parentObject:this});this.on("remove",function(){dataList.remove();});return dataList;}});;BaseJS.classes.Component=function(){this.id=BaseJS.getNewId("cmp-");BaseJS.classes.Component.superClass.constructor.apply(this,arguments);};BaseJS.classExtend(BaseJS.classes.Component,BaseJS.classes.Panel);;BaseJS.classes.Module=function(){this.id=BaseJS.getNewId("mdl-");this._moduleName=this.className.replace(/^(\w)/,function(v){return v.toLowerCase();});BaseJS.classes.Module.superClass.constructor.apply(this,arguments);};BaseJS.classExtend(BaseJS.classes.Module,BaseJS.classes.Panel,{beforeInit:function(){this._originInitData=this.initData;this.initData=$.extend({action:"index"},this.initData);},setDefaultAction:function(actionId){this.initData.action=this.initData.action==="index"?actionId:this.initData.action;},afterInit:function(){var actionId=this.initData.action.replace(/^(\w)/,function(v){return v.toUpperCase();});if(this["action"+actionId]){this["action"+actionId]();}
if(this.createBodyMainScrollbar){this.createBodyMainScrollbar();}},initPullDownRefresh:function(){this.getPullDownHandler=function(){var _this=this;if(!this.pullDownHandler){this.pullDownHandler=function(){_this.showMask();var module=MainJS.createModule(_this._moduleName,_this._originInitData,true);module.on("firstRequestComplete",function(){if(!_this.isRemoved){_this.remove();}});module.on("afterRemove",function(){if(!_this.isRemoved){_this.remove();}});_this.on("remove",function(){if(!module.isRemoved){if(module._initUrlHash===MainJS.getLocationHash()){MainJS.showModule(module);}else{module.off("firstRequestComplete afterRemove");module.remove();}}});};}
return this.pullDownHandler;};},refreshModule:function(){MainJS.createModule(this._moduleName,this._originInitData);},hideParentBottom:function(){MainJS.hideBottom();this.on("afterRemove",function(){if(MainJS.activeModule===this){MainJS.showBottom();}});}});;BaseJS.addComponentClass("Dialog",{getTplData:function(){return{bodyMain:'<div class="modal">'+'<div class="modal-dialog modal-lg">'+'<div class="modal-content">'+'<div class="modal-header">'+'<button type="button" class="close" aria-label="Close"><span aria-hidden="true">&times;</span></button>'+'<h4 class="modal-title">'+BaseJS.encodeHTML(this.initData.title)+'</h4>'+'</div>'+'<div class="modal-body"></div>'+'</div>'};},init:function(){this.renderBody();this.dialogBody=this.find(".modal-body");this.dialogContainer=this.find(".modal");if(this.initData.containerClass){this.dialogContainer.addClass(this.initData.containerClass);}
var _this=this;this.find(".modal-header .close").click(function(){_this.remove();});if(this.initData.content){this.find(".modal-body").append("<div>"+this.initData.content+"</div>");}
if(this.initData.onInit){this.initData.onInit(this);}
this.dialogContainer.show();if(this.createBodyMainScrollbar!==null){this._bodyMainScrollbar=BaseJS.createScrollbar({target:this.dialogBody,isAutoHeight:true});}},getDialogBody:function(){return this.dialogBody;},getDialogContainer:function(){return this.dialogContainer;},setTitle:function(title){this.find(".modal-title:first").text(title);}});;BaseJS.addComponentClass("DataList",{getTplData:function(){return{bodyTop:this.initData.queryForm?BaseJS.renderForm($.extend({isInline:true},this.initData.queryForm)):''};},init:function(){this.initData=$.extend({isStartRequest:true},this.initData);this.renderBody();var parentObject=this.getParentObject();var _this=this;if(parentObject){parentObject.on("remove",function(){_this.remove();});if(!this.initData.createParentObjectScrollbar){parentObject.createBodyMainScrollbar=null;}}
var form=this.find("form:first");form.find("[type='submit']").click(function(){if(_this.initData.queryForm.onBeforeSubmit){if(_this.initData.queryForm.onBeforeSubmit(form)===false){return false;}}
var action=$(this).data("action");if(action){_this.initData.queryForm.action=action;}
_this.refresh();return false;});this.getBodyMain().on("click",".item-edit-form [type='submit']",function(){var btn=$(this);var form=btn.closest("form.item-edit-form");if(_this.initData.queryForm.onEditBeforeSubmit){if(_this.initData.queryForm.onEditBeforeSubmit(form)===false){return false;}}
_this.requestPost(form[0].action,form.serialize(),null,{successDialogHandler:function(){parentObject.refreshModule();}});return false;});if(this.initData.onInit){this.initData.onInit(this);}
if(this.initData.listData){this._doCreateBodyMainScrollbar();this.showList(this.initData.listData);this.initListBar();return;}
this.createBodyMainScrollbar();this.getPullUpHandler=function(){if(!this.pullUpHandler){this.pullUpHandler=function(){_this.getQueryList();};}
return this.pullUpHandler;};if(!this.initData.noStartRequest){this.getQueryList();}
this.initListBar();},refresh:function(){this.isInitColumns=false;this.listCurrentPage=0;this.listPageInfo=null;this.getQueryList();},isKeyIn:function(key,list){var flag=false;$.each(list||[],function(k,v){if(key===v.key){flag=true;return false;}});return flag;},getKeyName:function(key,list){var name="";$.each(list||[],function(k,v){if(key===v.key){name=v.name||v.title;return false;}});return name;},getItemStr:function(item){if($.isArray(item)){var str="";$.each(item,function(k,v){str+=v.name+"："+(v.value||v.ratio);});return str;}else{return item;}},getWidthCfg:function(rows,columns){var widthInfo={};var widthTitleInfo={};var _this=this;var keyCount=0;var bWidth=this.getBody().width()||580;$.each(columns||[],function(k,v){widthTitleInfo[v.key]=MainJS.calWidth(v.title||"",{"font-size":"16px","font-weight":"bold"});keyCount++;});var averageWidth=bWidth/keyCount;var maxW=0;var maxK="";$.each(rows||[],function(k,v){$.each(v||[],function(k1,v1){if(_this.isKeyIn(k1,columns)){var w=Math.max(Math.min(500,MainJS.calWidth(_this.getItemStr(v1))),widthInfo[k1]||0,averageWidth);widthInfo[k1]=w;if(w>maxW){maxK=k1;maxW=w;}}});});var totalLen=0;$.each(widthInfo,function(k,v){totalLen+=v;});var cfg={};var isAverage=true;$.each(widthInfo,function(k,v){if(k!==maxK){var tW=widthTitleInfo[k];if(v<=tW||v<=averageWidth){var adjustW=averageWidth>tW?(averageWidth-tW)/2:0;var itemW=tW+Math.min(adjustW,50);cfg[k]=(itemW/bWidth*100).toFixed(2)+"%";}else{cfg[k]=(v/totalLen*100).toFixed(2)+"%";}}else{cfg[k]="auto";}
if(Math.max(widthInfo[k],widthTitleInfo[k])>averageWidth){isAverage=false;}});if(isAverage){$.each(widthInfo,function(k,v){cfg[k]=(100/keyCount).toFixed(2)+"%";});}
return cfg;},showList:function(data){if(!this.isInitColumns){this.getBodyMainContent().empty();this.getBodyBottom().empty();this.find(".list-head-container").remove();this.widthCfg=this.getWidthCfg(data.rows,data.columns);this.initTop(data.columns);this.initBottom(data.columns);this.isInitColumns=true;}
var html="";this.listPageInfo={page:data.page,total:data.total};if(this.listCurrentPage>0){this.listCurrentPage++;}else{this.listCurrentPage=1;}
if(data.rows&&data.rows.length>0){var tpl=this.getTpl("common","dataListRows");html=this.renderTpl(tpl,{rows:data.rows,columns:data.columns});}
if(!data.rows||(this.listCurrentPage===1&&data.rows.length===0)){html='<div class="no-result">没有相关信息</div>';this.find(".pull-up").hide();}else{if(this.listPageInfo.page!==undefined){if(this.listCurrentPage>=this.listPageInfo.page){this.find(".pull-up").hide();}else{this.find(".pull-up").show();}}else{this.find(".pull-up").hide();}}
this.appendMainContent(html);this.countList();this.syncSize();},getQueryList:function(){if(this.isQuerying){return;}
this.isQuerying=true;if(this.listPageInfo){if(this.listCurrentPage>=this.listPageInfo.page){return;}}
var url=this.initData.queryForm.action;if(this.listPageInfo&&this.listCurrentPage>0){url+="/_page-"+(this.listCurrentPage+1)+"-"+this.listPageInfo.total+"_";}
var info=this.find(".pull-up-label");var _this=this;info.text("加载中...");this.requestGet(url,this.find("form:first").serialize(),function(data){if(_this.initData.onAfterRequest){_this.initData.onAfterRequest(data);}
_this.showList(data);},{complete:function(){_this.isQuerying=false;info.text("加载更多");}});},initListBar:function(){var _this=this;this.on("syncSize",function(){var listBar=_this.find(".list-head,.list-footer");var item=_this.getBodyMain().find(".list-group-item:first");if(item.length>0){listBar.width(item.outerWidth());}else{listBar.width(_this.getBody().width());}});},getColumnName:function(key){return this.getKeyName(key,this.initColumns||[]);},initTop:function(columns){this.initColumns=columns;var tpl=this.getTpl("common","dataListColumns");var columnsHtml=this.renderTpl(tpl,{columns:columns});this.getBodyTop().append(columnsHtml);var listHeadContainer=this.find(".list-head-container");var listHead=listHeadContainer.find(".list-head");var scrollHandler=function(){listHeadContainer.height(listHead.height()).width(listHead.width());if(window.scrollY>listHeadContainer.offset().top){listHeadContainer.addClass("head-fixed");}else{listHeadContainer.removeClass("head-fixed");}};$(window).on("scroll",scrollHandler);this.on("remove",function(){$(window).off("scroll",scrollHandler);});},initBottom:function(columns){var tpl=this.getTpl("common","dataListFooter");var countIndex=-1;$.each(columns,function(k,v){if(v.count==1){countIndex=k;return false;}});var footer=this.renderTpl(tpl,{columns:columns,countIndex:countIndex});if(countIndex>-1){var bottom=this.getBodyBottom();bottom.append(footer);bottom.addClass("bottom-top");this.getBodyMain().addClass("main-adjust");}},countList:function(){var _this=this;var mul=function(a,b){var c=0,d=a.toString(),e=b.toString();try{c+=d.split(".")[1].length;}catch(f){}
try{c+=e.split(".")[1].length;}catch(f){}
return Number(d.replace(".",""))*Number(e.replace(".",""))/Math.pow(10,c);};var add=function(a,b){var c,d,e;try{c=a.toString().split(".")[1].length;}catch(f){c=0;}
try{d=b.toString().split(".")[1].length;}catch(f){d=0;}
return e=Math.pow(10,Math.max(c,d)),(mul(a,e)+mul(b,e))/e;};this.find(".list-footer [data-count]").each(function(){var item=$(this);var countKey=item.data("count");var total=0;var isFormat=false;_this.find(".list-group-item [data-key='"+countKey+"']").each(function(){var num=$.trim($(this).text());if(!isFormat){var part=num.split(".")[1];if(part&&part.length===2){isFormat=true;}}
total=add(total,Number(num));});item.text(isFormat?BaseJS.formatMoney(total):total);if(_this.initData.colorKeys){if($.inArray(countKey,_this.initData.colorKeys)>=0){if(total>0){item.addClass("amount-win");}
if(total<0){item.addClass("amount-lose");}}}});this.syncSize();}});;BaseJS.classes.BaseController=function(cfg){BaseJS.classes.BaseController.superClass.constructor.apply(this,arguments);this.tplCache={};this.navigateCount=0;this.cfg=cfg;template.helper("formatDate",BaseJS.formatDate);this._init();this._bindResize();};BaseJS.classExtend(BaseJS.classes.BaseController,BaseJS.classes.Base,{_init:function(){var cfg=this.cfg;this.layoutCfg=cfg.layoutCfg;this.exportFunction();if(!this.checkBrowserSupport()){return;}
if(BaseJS.isIphone||BaseJS.isIpad){if(window.location.hash!=="#module/common/action/youhuiDo"){document.addEventListener('touchmove',function(event){event.preventDefault();},{passive:false});}}
var _this=this;setTimeout(function(){_this.syncSize();},10);},syncSize:function(){window.scrollTo(0,0);var mainHeight=$(window).height()-(this.layoutCfg.bodyTop?this.layoutCfg.bodyTop.outerHeight():0)-(this.layoutCfg.bodyBottom&&this.layoutCfg.bodyBottom.is(":visible")?this.layoutCfg.bodyBottom.outerHeight():0);this.layoutCfg.bodyMain.height(mainHeight);this.triggerHandler("syncSize");},checkBrowserSupport:function(){if(!('onhashchange'in window)||!('JSON'in window)){showAlert("您使用的浏览器版本过低，不支持该浏览器，请使用高版本浏览器。");return false;}
return true;},setLocationHash:function(hash,isReplace,noNavigate){var oldLocationHash=this.getLocationHash();if(noNavigate){this.isStopNavigateOnce=true;}else{this.isStopNavigateOnce=false;}
if(oldLocationHash===hash){this.navigate();}else{if(isReplace){window.location.replace("#"+hash);}else{window.location.hash=hash;}}},getLocationHash:function(){return window.location.hash.replace(/^#/,"");},bindNavigate:function(){var _this=this;window.onhashchange=function(){_this.navigate();};this.navigate();},parserModuleUrl:function(){var hash=this.getLocationHash();var matchResult=hash.match(/^module\/(\w+)/);if(matchResult){var moduleName="";if(matchResult[1]){moduleName=matchResult[1];}
var hashInfo=hash.split("/");var moduleCfg={};$.each(hashInfo,function(i,val){if(i>0&&i%2===0){moduleCfg[decodeURIComponent(val)]=decodeURIComponent(hashInfo[i+1]||"");}});if(moduleName){return{moduleName:moduleName,moduleCfg:moduleCfg};}}
return null;},navigate:function(){if(this.isStopNavigateOnce){this.isStopNavigateOnce=false;return;}
var moduleInfo=this.parserModuleUrl();if(moduleInfo&&moduleInfo.moduleName){return this.createModule(moduleInfo.moduleName,moduleInfo.moduleCfg);}},showModule:function(module){module.show();this.activeModule=module;},createModule:function(moduleName,moduleCfg,isHide){if(isHide===undefined){var mAction=moduleName+"/"+moduleCfg.action;if($.inArray(mAction,this.hideModuleActions)!==-1){isHide=true;}}
var moduleClassName=moduleName.replace(/^(\w)/,function(v){return v.toUpperCase();});var moduleClass=BaseJS.classes.modules[moduleClassName];if(moduleClass){this.navigateCount++;}else{throw'no module class "'+moduleClassName+'"';}
if(this.activeModule&&!isHide){this.activeModule.remove();}
if(isHide&&this.activeModule&&this.activeModule._initUrlHash!==this.getLocationHash()){this.setLocationHash(this.activeModule._initUrlHash,true,true);}
var module=new moduleClass(moduleCfg,{container:this.layoutCfg.bodyMain,isHide:isHide});module._initUrlHash=this.getLocationHash();module.on("remove",function(){if(this._dialogList){$.each(this._dialogList,function(k,v){if(v){v.remove();}});}});if(!isHide){this.showModule(module);}
return module;},openModule:function(moduleName,initData,isNewWin){var infoStr="module/"+moduleName;if(initData){$.each(initData,function(key,val){infoStr+="/"+encodeURIComponent(key)+"/"+encodeURIComponent(val);});}
if(isNewWin){window.open("#"+infoStr);}else{this.setLocationHash(infoStr);}},showMessage:function(msg,callback,iconClass,isSimple,isHtml){var tpl='<div class="modal'+(isSimple?' simple-dialog':'')+'">'+'<div class="modal-dialog message-dialog modal-sm">'+'<div class="modal-content">'+'<div class="modal-header">'+'<h4 class="modal-title">'+(isSimple?'<span class="glyphicon '+iconClass+'" aria-hidden="true"></span>':'')+'系统提示</h4>'+'</div>'+'<div class="modal-body">'+'<div class="line-info">'+(isSimple?'':'<div class="info-caption"><span class="glyphicon '+iconClass+'" aria-hidden="true"></span></div>')+'<div class="info-left">'+
(!isHtml?('<pre>'+BaseJS.encodeHTML(msg)+'</pre>'):msg)+'</div>'+'</div>'+'</div>'+'<div class="modal-footer">'+'<button type="button" class="btn btn-primary confirm-btn">确定</button>'+'</div>'+'</div>'+'</div>'+'</div>';var dialog=$(tpl);var _this=this;dialog.find(".confirm-btn").on("click",function(){if(callback){callback();}
dialog.remove();_this.delDialog(dialog);});this.addDialog(dialog);dialog.appendTo(document.body);dialog.show();var dlg=dialog.find(".modal-dialog");if(dlg[0].scrollIntoViewIfNeeded){dlg[0].scrollIntoViewIfNeeded();}},showAlert:function(msg,callback,isSimple,isHtml){this.showMessage(msg,callback,"glyphicon-alert alert-icon",isSimple,isHtml);},showSuccess:function(msg,callback,isSimple,isHtml){this.showMessage(msg,callback,"glyphicon-ok-circle success-icon",isSimple,isHtml);},showConfirm:function(msg,callback,isSimple,isHtml){var tpl='<div class="modal'+(isSimple?' simple-dialog':'')+'">'+'<div class="modal-dialog message-dialog modal-sm">'+'<div class="modal-content">'+'<div class="modal-header">'+'<h4 class="modal-title">'+(isSimple?'<span class="glyphicon glyphicon-question-sign confirm-icon" aria-hidden="true"></span>':'')+'系统提示</h4>'+'</div>'+'<div class="modal-body">'+'<div class="line-info">'+(isSimple?'':'<div class="info-caption"><span class="glyphicon glyphicon-question-sign confirm-icon" aria-hidden="true"></span></div>')+'<div class="info-left">'+
(!isHtml?('<pre>'+BaseJS.encodeHTML(msg)+'</pre>'):msg)+'</div>'+'</div>'+'</div>'+'<div class="modal-footer">'+'<div class="col-xs-6"><button type="button" class="btn btn-primary confirm-btn">确定</button></div>'+'<div class="col-xs-6"><button type="button" class="btn btn-default cancel-btn">取消</button></div>'+'</div>'+'</div>'+'</div>'+'</div>';var dialog=$(tpl);var _this=this;dialog.find(".cancel-btn").on("click",function(){dialog.remove();_this.delDialog(dialog);});dialog.find(".confirm-btn").on("click",function(){if(callback){callback();}
dialog.remove();_this.delDialog(dialog);});this.addDialog(dialog);dialog.appendTo(document.body);dialog.show();var dlg=dialog.find(".modal-dialog");if(dlg[0].scrollIntoViewIfNeeded){dlg[0].scrollIntoViewIfNeeded();}},exportFunction:function(){var _this=this;window.showAlert=function(){_this.showAlert.apply(_this,arguments);};window.showSuccess=function(){_this.showSuccess.apply(_this,arguments);};window.showConfirm=function(){_this.showConfirm.apply(_this,arguments);};window.showDialog=function(){return _this.showDialog.apply(_this,arguments);};},addDialog:function(dialog){if(this.activeModule){if(!this.activeModule._dialogList){this.activeModule._dialogList=[];}
this.activeModule._dialogList.push(dialog);}},delDialog:function(dialog){if(this.activeModule){if(!this.activeModule._dialogList){this.activeModule._dialogList=[];}
var _this=this;$.each(this.activeModule._dialogList,function(k,v){if(v===dialog){_this.activeModule._dialogList[k]=null;}});}},showDialog:function(initData){var dialog=new BaseJS.classes.components.Dialog(initData);this.addDialog(dialog);var _this=this;dialog.on("remove",function(){_this.delDialog(dialog);});return dialog;},closeWindow:function(){window.close();},getCdnImgUrl:function(url){if(this.sysSetting.isEnableCdn&&!/^https?\:\/\//.test(url)&&/\.(gif|jpg|png|jpeg)(\?.*)?$/i.test(url)){var cdnUrl=this.cfg.cdnUrl;if(/^\//.test(url)){url=cdnUrl+url;}else{var pathInfo=window.location.pathname.split("/");pathInfo[pathInfo.length-1]=url;url=cdnUrl+pathInfo.join("/");}}
return url;},parseTplHook:function(renderTxt){var _this=this;renderTxt=renderTxt.replace(/(<img.*?src\s*=[\s\'\"]*)([^\s\'\"]+)([\s\'\"]*.*?>)/gi,function(t,r1,r2,r3){return r1+_this.getCdnImgUrl(r2)+r3;});return renderTxt;},hideBottom:function(){this.isBodyBottomHidden=true;if(this.layoutCfg.bodyBottom){this.layoutCfg.bodyBottom.hide();this.syncSize();if(this.activeModule){this.activeModule.syncSize();}}},showBottom:function(){this.isBodyBottomHidden=false;if(!this.layoutCfg.bodyBottom){MainJS.initMenu();}
if(this.layoutCfg.bodyBottom){this.layoutCfg.bodyBottom.show();this.syncSize();if(this.activeModule){this.activeModule.syncSize();}}}});